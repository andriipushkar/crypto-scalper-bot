# Тести даних та аналітики

## 1. Real-time дані

### TC-224: Price updates
**Кроки:**
1. Спостерігати за оновленням цін

**Очікуваний результат:**
- [ ] Ціни оновлюються real-time
- [ ] Bid/Ask prices
- [ ] Last price
- [ ] 24h change

### TC-225: Orderbook display
**Кроки:**
1. Переглянути orderbook

**Очікуваний результат:**
- [ ] Bid side (green)
- [ ] Ask side (red)
- [ ] Depth visualization
- [ ] Price levels updating

### TC-226: Recent trades (tape)
**Кроки:**
1. Переглянути recent trades

**Очікуваний результат:**
- [ ] Trades streaming
- [ ] Direction indicated
- [ ] Size shown
- [ ] Timestamp

### TC-227: Volume bars
**Кроки:**
1. Переглянути volume на графіку

**Очікуваний результат:**
- [ ] Volume bars відображаються
- [ ] Buy/Sell volume різним кольором
- [ ] Спайки видимі

---

## 2. Графіки

### TC-228: Candlestick chart
**Кроки:**
1. Переглянути candlestick chart

**Очікуваний результат:**
- [ ] OHLC candles
- [ ] Зелені/Червоні за напрямком
- [ ] Wicks видимі

### TC-229: Chart timeframe switching
**Кроки:**
1. Перемикати timeframes: 1m, 5m, 15m, 1h, 4h, 1d

**Очікуваний результат:**
- [ ] Chart оновлюється
- [ ] Дані підвантажуються
- [ ] Smooth transition

### TC-230: Chart zoom/pan
**Кроки:**
1. Zoom in/out
2. Pan left/right

**Очікуваний результат:**
- [ ] Zoom працює (scroll)
- [ ] Pan працює (drag)
- [ ] Auto-scale Y axis

### TC-231: Technical indicators on chart
**Кроки:**
1. Додати MA, RSI, MACD

**Очікуваний результат:**
- [ ] Indicators overlay
- [ ] Parameters configurable
- [ ] Remove indicator

### TC-232: Drawing tools
**Кроки:**
1. Намалювати trendline
2. Намалювати horizontal line
3. Намалювати rectangle

**Очікуваний результат:**
- [ ] Tools працюють
- [ ] Можна видалити
- [ ] Зберігаються при refresh

---

## 3. Equity Curve

### TC-233: Equity curve display
**Кроки:**
1. Переглянути equity curve

**Очікуваний результат:**
- [ ] Line chart від initial balance
- [ ] Current equity
- [ ] Peak equity marked

### TC-234: Equity curve period selection
**Кроки:**
1. Вибрати: Today, Week, Month, All time

**Очікуваний результат:**
- [ ] Chart оновлюється для періоду
- [ ] Starting balance відповідний

### TC-235: Drawdown overlay
**Кроки:**
1. Увімкнути drawdown overlay

**Очікуваний результат:**
- [ ] Drawdown shown as area
- [ ] Max drawdown highlighted

---

## 4. Performance Metrics

### TC-236: Dashboard metrics
**Кроки:**
1. Переглянути metrics на dashboard

**Очікуваний результат:**
- [ ] Total P&L
- [ ] Daily P&L
- [ ] Win rate
- [ ] Total trades

### TC-237: Detailed metrics page
**Кроки:**
1. Відкрити детальну статистику

**Очікуваний результат:**
- [ ] All metrics displayed:
  - Profit Factor
  - Sharpe Ratio
  - Sortino Ratio
  - Max Drawdown
  - Average Win/Loss
  - Largest Win/Loss
  - Avg Trade Duration
  - ROI

### TC-238: Metrics by period
**Кроки:**
1. Фільтрувати metrics по періоду

**Очікуваний результат:**
- [ ] Daily metrics
- [ ] Weekly metrics
- [ ] Monthly metrics
- [ ] Yearly metrics

### TC-239: Metrics by symbol
**Кроки:**
1. Фільтрувати по символу

**Очікуваний результат:**
- [ ] Performance per symbol
- [ ] Best/Worst performers

### TC-240: Metrics by strategy
**Кроки:**
1. Фільтрувати по стратегії

**Очікуваний результат:**
- [ ] Performance per strategy
- [ ] Strategy comparison

---

## 5. Trade History

### TC-241: View all trades
**Кроки:**
1. Відкрити Trade History

**Очікуваний результат:**
- [ ] Список всіх угод
- [ ] Pagination
- [ ] Sorting (by date, P&L, etc.)

### TC-242: Trade filtering
**Кроки:**
1. Застосувати фільтри:
   - Symbol
   - Date range
   - Side (Long/Short)
   - P&L (Profit/Loss)
   - Strategy

**Очікуваний результат:**
- [ ] Фільтрація працює
- [ ] Multiple filters combinable

### TC-243: Trade details
**Кроки:**
1. Натиснути на конкретну угоду

**Очікуваний результат:**
- [ ] Entry details
- [ ] Exit details
- [ ] P&L breakdown
- [ ] Fees
- [ ] Notes (якщо є)

### TC-244: Trade on chart
**Кроки:**
1. Показати угоду на графіку

**Очікуваний результат:**
- [ ] Entry marker
- [ ] Exit marker
- [ ] SL/TP levels

---

## 6. Trade History Database

### TC-245: Trade persistence
**Кроки:**
1. Закрити позицію
2. Перезапустити сервер
3. Перевірити trade history

**Очікуваний результат:**
- [ ] Trade збережено в DB
- [ ] Дані не втрачені

### TC-246: Database backup
**Кроки:**
1. Export database

**Очікуваний результат:**
- [ ] SQLite file exported
- [ ] Можна restore

### TC-247: Trade import
**Кроки:**
1. Import trades from CSV

**Очікуваний результат:**
- [ ] Trades imported
- [ ] Validation errors shown
- [ ] Duplicates handled

---

## 7. Analytics Dashboards

### TC-248: P&L distribution chart
**Кроки:**
1. Переглянути P&L distribution

**Очікуваний результат:**
- [ ] Histogram of trade P&Ls
- [ ] Normal distribution overlay (optional)
- [ ] Outliers visible

### TC-249: Win rate trend
**Кроки:**
1. Переглянути win rate over time

**Очікуваний результат:**
- [ ] Rolling win rate chart
- [ ] Trends visible

### TC-250: Trade frequency heatmap
**Кроки:**
1. Переглянути heatmap

**Очікуваний результат:**
- [ ] Hour of day vs Day of week
- [ ] Color intensity = trade count
- [ ] Best times visible

### TC-251: Monthly returns heatmap
**Кроки:**
1. Переглянути monthly returns

**Очікуваний результат:**
- [ ] Month vs Year grid
- [ ] Green = profit, Red = loss
- [ ] Seasonality patterns

### TC-252: Correlation matrix
**Кроки:**
1. Переглянути correlation між symbols

**Очікуваний результат:**
- [ ] Matrix of correlations
- [ ] High correlation highlighted

---

## 8. Advanced Analytics

### TC-253: Print tape analysis
**Кроки:**
1. Переглянути print tape

**Очікуваний результат:**
- [ ] Large orders highlighted
- [ ] Buy/Sell pressure
- [ ] Whale activity

### TC-254: Liquidation heatmap
**Кроки:**
1. Переглянути liquidation levels

**Очікуваний результат:**
- [ ] Estimated liquidation clusters
- [ ] Price levels з high liquidations

### TC-255: Sentiment analysis
**Кроки:**
1. Переглянути sentiment indicators

**Очікуваний результат:**
- [ ] Fear & Greed index
- [ ] Social sentiment
- [ ] Funding rate sentiment

### TC-256: Cluster analysis
**Кроки:**
1. Переглянути trade clusters

**Очікуваний результат:**
- [ ] Volume clusters
- [ ] Price clusters
- [ ] Support/Resistance derivation

---

## 9. Reporting & Export

### TC-257: Export trades to CSV
**Кроки:**
1. Натиснути Export CSV

**Очікуваний результат:**
- [ ] CSV file downloaded
- [ ] All columns included
- [ ] Dates formatted correctly

### TC-258: Export trades to Excel
**Кроки:**
1. Export to Excel

**Очікуваний результат:**
- [ ] .xlsx file
- [ ] Formatted properly

### TC-259: Export equity curve data
**Кроки:**
1. Export equity data

**Очікуваний результат:**
- [ ] Time series data
- [ ] CSV or JSON format

### TC-260: Print report
**Кроки:**
1. Натиснути Print

**Очікуваний результат:**
- [ ] Print-friendly layout
- [ ] Charts included
- [ ] Proper pagination

---

## 10. Data Integrity

### TC-261: Data consistency check
**Кроки:**
1. Порівняти дані на UI з даними в DB

**Очікуваний результат:**
- [ ] P&L matches
- [ ] Trade count matches
- [ ] Metrics consistent

### TC-262: Duplicate trade prevention
**Кроки:**
1. Спробувати записати duplicate trade

**Очікуваний результат:**
- [ ] Duplicate blocked
- [ ] Error message

### TC-263: Data migration
**Кроки:**
1. Upgrade application
2. Перевірити data migration

**Очікуваний результат:**
- [ ] Old data preserved
- [ ] Schema updated
- [ ] No data loss
