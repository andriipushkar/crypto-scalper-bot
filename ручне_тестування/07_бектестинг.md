# Тести бектестингу

## 1. Налаштування бектесту

### TC-160: Вибір періоду
**Кроки:**
1. Перейти в режим Backtest
2. Вибрати дати: Start Date, End Date

**Очікуваний результат:**
- [ ] Дати валідуються
- [ ] End > Start
- [ ] Максимальний період дотримується

### TC-161: Вибір символів для бектесту
**Кроки:**
1. Вибрати один або декілька символів

**Очікуваний результат:**
- [ ] Символи додані до бектесту
- [ ] Дані завантажуються для всіх символів

### TC-162: Вибір timeframe
**Кроки:**
1. Вибрати timeframe: 1m, 5m, 15m, 1h, 4h, 1d

**Очікуваний результат:**
- [ ] Timeframe застосовано
- [ ] Дані відповідного granularity

### TC-163: Initial balance налаштування
**Кроки:**
1. Встановити initial_balance = $10,000

**Очікуваний результат:**
- [ ] Бектест стартує з цього балансу
- [ ] Equity curve починається з $10,000

---

## 2. Завантаження даних

### TC-164: Завантаження historical data
**Кроки:**
1. Запустити бектест
2. Спостерігати за завантаженням даних

**Очікуваний результат:**
- [ ] Progress bar завантаження
- [ ] Дані завантажуються з API або локального cache
- [ ] Gaps в даних виявляються

### TC-165: Data caching
**Кроки:**
1. Запустити бектест вдруге з тими ж параметрами

**Очікуваний результат:**
- [ ] Дані беруться з cache
- [ ] Швидше завантаження

### TC-166: Data validation
**Кроки:**
1. Перевірити якість даних

**Очікуваний результат:**
- [ ] OHLCV дані коректні
- [ ] Немає NaN/null values
- [ ] Timestamps послідовні

---

## 3. Запуск бектесту

### TC-167: Запуск бектесту
**Кроки:**
1. Натиснути "Run Backtest"

**Очікуваний результат:**
- [ ] Бектест запустився
- [ ] Progress indicator
- [ ] Можна скасувати (Cancel)

### TC-168: Real-time progress
**Кроки:**
1. Спостерігати за прогресом

**Очікуваний результат:**
- [ ] % завершення оновлюється
- [ ] Поточна дата/час відображається
- [ ] ETA до завершення

### TC-169: Pause/Resume бектесту
**Кроки:**
1. Натиснути Pause
2. Потім Resume

**Очікуваний результат:**
- [ ] Бектест призупиняється
- [ ] Продовжується з того ж місця

---

## 4. Результати бектесту

### TC-170: Summary statistics
**Кроки:**
1. Дочекатись завершення бектесту
2. Переглянути summary

**Очікуваний результат:**
- [ ] Total trades
- [ ] Win rate
- [ ] Total P&L
- [ ] Profit factor
- [ ] Sharpe ratio
- [ ] Max drawdown

### TC-171: Equity curve
**Кроки:**
1. Переглянути графік equity

**Очікуваний результат:**
- [ ] Графік відображається
- [ ] Starting balance -> Final balance
- [ ] Drawdown periods видно

### TC-172: Trade list
**Кроки:**
1. Переглянути список угод

**Очікуваний результат:**
- [ ] Всі угоди перелічені
- [ ] Entry/Exit time, price
- [ ] P&L кожної угоди
- [ ] Фільтрація по символу/стратегії

### TC-173: Drawdown analysis
**Кроки:**
1. Переглянути drawdown chart

**Очікуваний результат:**
- [ ] Drawdown periods виділені
- [ ] Max drawdown позначено
- [ ] Duration of drawdowns

### TC-174: Monthly/Daily returns
**Кроки:**
1. Переглянути returns breakdown

**Очікуваний результат:**
- [ ] Monthly returns heatmap
- [ ] Daily returns distribution
- [ ] Best/Worst periods

---

## 5. Аналіз стратегій

### TC-175: Strategy comparison
**Кроки:**
1. Запустити бектест з декількома стратегіями
2. Порівняти результати

**Очікуваний результат:**
- [ ] P&L по кожній стратегії
- [ ] Win rate по кожній
- [ ] Best performing strategy

### TC-176: Trade distribution
**Кроки:**
1. Переглянути розподіл угод

**Очікуваний результат:**
- [ ] По годинах дня
- [ ] По днях тижня
- [ ] По символах

### TC-177: Win/Loss analysis
**Кроки:**
1. Аналіз winning vs losing trades

**Очікуваний результат:**
- [ ] Avg win size vs Avg loss size
- [ ] Win/Loss ratio
- [ ] Largest win, Largest loss

---

## 6. Оптимізація параметрів

### TC-178: Parameter optimization
**Кроки:**
1. Вибрати параметри для оптимізації
2. Вказати ranges
3. Запустити optimization

**Очікуваний результат:**
- [ ] Grid search або genetic algorithm
- [ ] Progress відображається
- [ ] Optimal parameters знайдені

### TC-179: Walk-forward analysis
**Кроки:**
1. Запустити walk-forward optimization

**Очікуваний результат:**
- [ ] In-sample optimization
- [ ] Out-of-sample validation
- [ ] Robustness перевірена

### TC-180: Overfitting detection
**Кроки:**
1. Перевірити на overfitting

**Очікуваний результат:**
- [ ] In-sample vs Out-of-sample порівняння
- [ ] Warning якщо велика різниця

---

## 7. Комісії та Slippage

### TC-181: Commission settings
**Кроки:**
1. Встановити commission = 0.1%
2. Запустити бектест

**Очікуваний результат:**
- [ ] Комісії враховані в P&L
- [ ] Total fees displayed

### TC-182: Slippage simulation
**Кроки:**
1. Встановити slippage = 0.05%

**Очікуваний результат:**
- [ ] Entry/Exit prices adjusted
- [ ] Realistic execution simulation

### TC-183: Funding rates
**Кроки:**
1. Увімкнути funding rate simulation

**Очікуваний результат:**
- [ ] 8h funding враховано
- [ ] Long/Short funding різниця

---

## 8. Export результатів

### TC-184: Export to CSV
**Кроки:**
1. Натиснути "Export CSV"

**Очікуваний результат:**
- [ ] CSV файл з усіма угодами
- [ ] Headers: date, symbol, side, entry, exit, pnl, etc.

### TC-185: Export to PDF report
**Кроки:**
1. Натиснути "Generate Report"

**Очікуваний результат:**
- [ ] PDF з summary, charts, trades
- [ ] Професійний формат

### TC-186: Export equity curve data
**Кроки:**
1. Export equity data

**Очікуваний результат:**
- [ ] Time series equity data
- [ ] Для подальшого аналізу

---

## 9. Scenario Testing

### TC-187: Stress testing
**Кроки:**
1. Запустити бектест під час кризових періодів
   - COVID crash (March 2020)
   - FTX collapse (Nov 2022)

**Очікуваний результат:**
- [ ] Стратегія витримує волатильність
- [ ] Max drawdown acceptable

### TC-188: Black swan simulation
**Кроки:**
1. Симулювати extreme moves

**Очікуваний результат:**
- [ ] System handles gaps
- [ ] SL executes (можливо з slippage)

### TC-189: Different market conditions
**Кроки:**
1. Тест на trending market
2. Тест на ranging market
3. Тест на choppy market

**Очікуваний результат:**
- [ ] Performance varies as expected
- [ ] Strategy strengths/weaknesses identified

---

## 10. Порівняння з benchmark

### TC-190: Buy & Hold comparison
**Кроки:**
1. Порівняти strategy vs Buy & Hold

**Очікуваний результат:**
- [ ] Strategy P&L vs B&H P&L
- [ ] Risk-adjusted returns comparison

### TC-191: Benchmark asset
**Кроки:**
1. Порівняти з BTC або ETH performance

**Очікуваний результат:**
- [ ] Alpha generation
- [ ] Beta calculation
- [ ] Correlation analysis
